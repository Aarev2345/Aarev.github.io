<!DOCTYPE html>
<html>
<head>
<title>htmlMap</title>
<meta http-equiv='content-type' charset='utf-8'>
<meta name='viewport' content='width=device-width'>,
<link rel="stylesheet" href="style.css" />
</head>
<body>

    <div id="navArea">
        <nav>
          <div class="inner">
            <ul>
              <li><a href="file:///Z:/%E7%B7%8F%E5%90%88%E8%A3%BD%E4%BD%9C/Leaflet%E6%9C%AC%E4%BD%93/inex.1.html">青バス①時刻表</a></li>
              <li><a href="file:///Z:/%E7%B7%8F%E5%90%88%E8%A3%BD%E4%BD%9C/%E6%96%B0%E3%81%97%E3%81%84%E3%83%95%E3%82%A9%E3%83%AB%E3%83%80%E3%83%BC/index2.html">青バス②時刻表</a></li>
              <li><a href="#">黄バス①時刻表</a></li>
            </ul>
          </div>
        </nav>
  
        <div class="toggle-btn">
          <span></span>
          <span></span>
          <span></span>
        </div>
  
        <div id="mask"></div>
      </div>
  
      <main>
        <h1></h1>
      </main>
      <script src="script.js"></script>

<!-- 埋め込みマップのdivタグ。マップサイズはwidth（幅）とheight（高さ）で決まる -->
<div id='mapcontainer' style='width:100%; height:900px; z-index:0;'></div>

<!-- 以下LeafletのJavaScriptとCSS -->
<link rel='stylesheet' href='https://unpkg.com/leaflet@1.3.0/dist/leaflet.css' />
<script src='https://unpkg.com/leaflet@1.3.0/dist/leaflet.js'></script>

<script>
function init_map() {

    var map = L.map('mapcontainer');
    map.setView([35.429448, 135.330490], 14); //初期の中心位置とズームレベルを設定(西舞鶴市を初期値にする)

    //マップタイルを読み込み、引用元を記載する
    L.tileLayer('https://cyberjapandata.gsi.go.jp/xyz/std/{z}/{x}/{y}.png', 
        {attribution: "<a href='https://maps.gsi.go.jp/development/ichiran.html'> ©OpenStreetMap </a>"}).addTo(map);

    //マーカーの画像1 バス１
        var bus1icon= L.icon({
	    iconUrl:['./img/bus1icon.png'],
	    iconSize:[80,50],
	    iconAnchor:[30,70],
	    popupAnchor:[0,-70]
	    });

        //マーカー画像２　バス停
        var busstopicon= L.icon({
	    iconUrl:['./img/busstation.png'],
	    iconSize:[60,80],
	    iconAnchor:[30,70],
	    popupAnchor:[0,-70]
	    });

         //マーカー画像３　園
         var homeicon= L.icon({
	    iconUrl:['./img/home1.png'],
	    iconSize:[60,80],
	    iconAnchor:[30,70],
	    popupAnchor:[0,-70]
	    });
    
    //マーカーの配置
        L.marker([35.452868, 135.343627],{ icon: bus1icon })
        .bindPopup('Hello, world!')
       .on('contextmenu', function(e){
           window.open( "https://www.google.co.jp/maps/place/"+e.latlng.lat+","+e.latlng.lng+"/@"+e.latlng.lat+","+e.latlng.lng+",15z/data");
       }).addTo(map);

    //池内学園 池内幼稚園
	 L.marker([35.410192, 135.345347],{ icon: homeicon })
     .bindPopup('池内学園 池内幼稚園')
       .on('contextmenu', function(e){
           window.open( "https://www.google.co.jp/maps/place/"+e.latlng.lat+","+e.latlng.lng+"/@"+e.latlng.lat+","+e.latlng.lng+",15z/data");
       }).addTo(map);

       //倉谷口
       L.marker([35.45082947602658,135.3417617082596],{ icon: busstopicon })
       .bindPopup('倉谷口')
       .on('contextmenu', function(e){
           window.open( "https://www.google.co.jp/maps/place/"+e.latlng.lat+","+e.latlng.lng+"/@"+e.latlng.lat+","+e.latlng.lng+",15z/data");
       }).addTo(map);

	//上安　自動車学校前
       L.marker([35.449468, 135.345684],{ icon: busstopicon })
       .bindPopup('上安　自動車学校前')
       .on('contextmenu', function(e){
           window.open( "https://www.google.co.jp/maps/place/"+e.latlng.lat+","+e.latlng.lng+"/@"+e.latlng.lat+","+e.latlng.lng+",15z/data");
       }).addTo(map);

	//天台A
       L.marker([35.453009, 135.357603],{ icon: busstopicon })
       .bindPopup('天台A')
       .on('contextmenu', function(e){
           window.open( "https://www.google.co.jp/maps/place/"+e.latlng.lat+","+e.latlng.lng+"/@"+e.latlng.lat+","+e.latlng.lng+",15z/data");
       }).addTo(map);

	//福来東バス停
       L.marker([35.448072, 135.350990],{ icon: busstopicon })
       .bindPopup('福来東バス停')
       .on('contextmenu', function(e){
           window.open( "https://www.google.co.jp/maps/place/"+e.latlng.lat+","+e.latlng.lng+"/@"+e.latlng.lat+","+e.latlng.lng+",15z/data");
       }).addTo(map);

       //境谷A
       L.marker([35.43771862503906,135.3360861539841],{ icon: busstopicon })
       .bindPopup('境谷A')
       .on('contextmenu', function(e){
           window.open( "https://www.google.co.jp/maps/place/"+e.latlng.lat+","+e.latlng.lng+"/@"+e.latlng.lat+","+e.latlng.lng+",15z/data");
       }).addTo(map);

       //境谷B
       L.marker([35.43497818738408,135.33535122871402],{ icon: busstopicon })
       .bindPopup('境谷A')
       .on('contextmenu', function(e){
           window.open( "https://www.google.co.jp/maps/place/"+e.latlng.lat+","+e.latlng.lng+"/@"+e.latlng.lat+","+e.latlng.lng+",15z/data");
       }).addTo(map);

       //荘苑
       L.marker([35.43114491476595,135.33507764339452],{ icon: busstopicon })
       .bindPopup('荘苑')
       .on('contextmenu', function(e){
           window.open( "https://www.google.co.jp/maps/place/"+e.latlng.lat+","+e.latlng.lng+"/@"+e.latlng.lat+","+e.latlng.lng+",15z/data");
       }).addTo(map);


    //ラインの表示
    //倉谷口→園　帰りの方向
var Line=L.polyline([
    [35.410192, 135.345347],
    [35.409916, 135.344068],
    [35.410011, 135.342464],
    [35.410935, 135.340941],
    [35.412220, 135.339738],
    [35.413745, 135.339115],
    [35.418988, 135.338167],
    [35.420722, 135.338251],
    [35.421438, 135.338170],
    [35.422176, 135.337924],
    [35.422848336252464,135.33736824989322],
    [35.42491163266463,135.33526539802554],
    [35.42587332056159,135.3348255157471],
    [35.429435837032216,135.3352063894272],
    [35.42999533450358,135.33501327037814],
    [35.43574307171138,135.3354585170746],
    [35.43756128186041, 135.3359949588776],
    [35.445030373002346,135.33645093441012],
    [35.445109037331015,135.33812463283542],
    [35.450702748022756,135.33842504024508],
    [35.450689638217874,135.34285068511966],
    [ 35.44971513674133,135.34285068511966],
    [35.44980690644201,135.3447335958481],
    [35.453009, 135.357603],
    [35.448072, 135.350990],
    [35.445109037331015,135.33812463283542],
],{
    "color": "#00008b",
    "weight": 5,
    dashArray: [20, 10]

}).addTo(map);

//園→倉谷口 行の方向
var Line=L.polyline([
    [35.410192, 135.345347],
    [35.40999962995041,135.34543097019198],
    [35.40971981225918,135.34250199794772],
    [35.41137684349102,135.33987879753116],
    [35.41308193240966,135.3389668464661],
    [35.418922681478165,135.33793687820437],
    [35.421021050812264,135.3379958868027],
    [35.42212267283362,135.33773303031924],
    [35.42483731994014,135.33505082130435],
    [35.45082947602658,135.3417617082596],//倉谷口
],{
    "color": "#00008b",
    "weight": 5,
    dashArray: [20, 10]

}).addTo(map);

map.on('click', function(e) {
    lat = e.latlng.lat;
    lng = e.latlng.lng;
    alert("lat: " + lat + ", lng: " + lng);
} );

}
    //ダウンロード時に初期化する
    window.addEventListener('DOMContentLoaded', init_map());
</script>
</body>
</html>